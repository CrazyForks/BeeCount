# i18n ç®¡ç†å·¥å…·

æœ¬ç›®å½•åŒ…å«ç”¨äºç®¡ç†å›½é™…åŒ–ç¿»è¯‘çš„å·¥å…·è„šæœ¬ã€‚

## ğŸ“‹ å·¥å…·åˆ—è¡¨

### 1. check_status.dart - æ£€æŸ¥ç¿»è¯‘çŠ¶æ€

æ£€æŸ¥æ‰€æœ‰è¯­è¨€çš„ç¿»è¯‘å®Œæˆåº¦å’Œç»Ÿè®¡ä¿¡æ¯ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**

```bash
dart scripts/i18n/check_status.dart
```

**è¾“å‡ºç¤ºä¾‹ï¼š**

```
======================================================================
  BeeCount å›½é™…åŒ–ç¿»è¯‘çŠ¶æ€æ£€æŸ¥
======================================================================

è¯­è¨€ä»£ç  | æ–‡ä»¶åç§°        | é”®æ•°é‡   | å®Œæˆåº¦   | çŠ¶æ€
----------------------------------------------------------------------
zh       | app_zh.arb      |    1064 |   100.0% | âœ… å®Œæ•´
en       | app_en.arb      |    1064 |   100.0% | âœ… å®Œæ•´
ja       | app_ja.arb      |    1089 |   102.3% | âœ… å®Œæ•´
...
```

### 2. check_unused_i18n.dart - æ£€æµ‹æœªä½¿ç”¨çš„ç¿»è¯‘ keys

æ£€æµ‹é¡¹ç›®ä¸­æœªä½¿ç”¨çš„ i18n keysã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**

```bash
dart scripts/i18n/check_unused_i18n.dart
```

**è¾“å‡ºç¤ºä¾‹ï¼š**

```
ğŸ” å¼€å§‹æ£€æµ‹æœªä½¿ç”¨çš„ i18n keys...

ğŸ“Š æ€»å…±æœ‰ 1087 ä¸ªç¿»è¯‘ keys

ğŸ“ æ‰«æ 148 ä¸ª Dart æ–‡ä»¶...

âœ… ä½¿ç”¨ä¸­çš„ keys: 868
âŒ æœªä½¿ç”¨çš„ keys: 219

ğŸ“ æœªä½¿ç”¨çš„ keys åˆ—è¡¨ï¼š
============================================================
  â€¢ commonAdd: "æ·»åŠ "
  â€¢ commonYes: "æ˜¯"
  ...
```

### 3. clean_unused_i18n.dart - æ¸…ç†æœªä½¿ç”¨çš„ç¿»è¯‘ keys

è‡ªåŠ¨æ¸…ç†æ‰€æœ‰è¯­è¨€æ–‡ä»¶ä¸­æœªä½¿ç”¨çš„ keysã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**

```bash
dart scripts/i18n/clean_unused_i18n.dart
```

**æ“ä½œæµç¨‹ï¼š**

1. æ‰«æä»£ç æ£€æµ‹æœªä½¿ç”¨çš„ keys
2. æ˜¾ç¤ºå³å°†åˆ é™¤çš„ keys åˆ—è¡¨
3. è¦æ±‚ç”¨æˆ·ç¡®è®¤ï¼ˆè¾“å…¥ y/yes ç¡®è®¤ï¼‰
4. ä»æ‰€æœ‰è¯­è¨€æ–‡ä»¶ä¸­åˆ é™¤è¿™äº› keys
5. æ ¼å¼åŒ–å¹¶ä¿å­˜æ–‡ä»¶

**æ³¨æ„ï¼š**

- æ¸…ç†åéœ€è¦è¿è¡Œ `flutter gen-l10n` é‡æ–°ç”Ÿæˆä»£ç 
- å»ºè®®å…ˆç”¨ `check_unused_i18n.dart` é¢„è§ˆå†å†³å®šæ˜¯å¦æ¸…ç†

### 4. clean_extra_keys.dart - æ¸…ç†å¤šä½™çš„ç¿»è¯‘é”®

æ¸…ç†å„è¯­è¨€æ–‡ä»¶ä¸­æ¯”ä¸­æ–‡åŸºå‡†ç‰ˆæœ¬å¤šå‡ºçš„ç¿»è¯‘é”®ï¼ˆé€šå¸¸æ¥è‡ªè‹±æ–‡ç‰ˆæœ¬ï¼‰ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**

```bash
dart scripts/i18n/clean_extra_keys.dart
```

**åŠŸèƒ½è¯´æ˜ï¼š**

- ä»¥ `app_zh.arb` ä¸ºåŸºå‡†
- æ£€æµ‹å…¶ä»–è¯­è¨€æ–‡ä»¶ä¸­å¤šä½™çš„é”®
- é€ä¸ªè¯­è¨€æ˜¾ç¤ºå¤šä½™çš„é”®åˆ—è¡¨
- æ‰‹åŠ¨ç¡®è®¤åæ‰¹é‡åˆ é™¤

**è¾“å‡ºç¤ºä¾‹ï¼š**

```
ğŸ”´ en (app_en.arb): 25 ä¸ªå¤šä½™çš„é”®
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    1. accountsAddAccount
    2. accountsBalance
    ...
```

### 5. verify_translations.dart - éªŒè¯ç¿»è¯‘å®Œæ•´æ€§

éªŒè¯ç®€ä½“ä¸­æ–‡å’Œè‹±æ–‡ç¿»è¯‘çš„å®Œæ•´æ€§ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**

```bash
dart scripts/i18n/verify_translations.dart
```

**è¾“å‡ºç¤ºä¾‹ï¼š**

```
ğŸ” éªŒè¯ä¸­è‹±æ–‡ç¿»è¯‘å®Œæ•´æ€§...

ğŸ“Š ç»Ÿè®¡ä¿¡æ¯ï¼š
  ç®€ä½“ä¸­æ–‡ keys: 1087
  è‹±æ–‡ keys: 1063

âŒ è‹±æ–‡ç¼ºå¤±çš„ç¿»è¯‘ (24)ï¼š
  â€¢ cloudSupabaseAnonKeyHintShort: "ç²˜è´´å®Œæ•´çš„ anon key"
  ...

============================================================
âš ï¸  å‘ç°é—®é¢˜ï¼š
  â€¢ è‹±æ–‡ç¼ºå¤± 24 ä¸ªç¿»è¯‘
  â€¢ è‹±æ–‡æœ‰ 2 ä¸ªç©ºå€¼

ğŸ’¡ å»ºè®®ï¼šè¡¥å…¨ç¼ºå¤±çš„ç¿»è¯‘åå†ç¿»è¯‘å…¶ä»–è¯­è¨€
============================================================
```

## ğŸ”„ å®Œæ•´çš„ i18n ç®¡ç†æµç¨‹

### æ­¥éª¤ 1: æ£€æŸ¥ç¿»è¯‘çŠ¶æ€

```bash
dart scripts/i18n/check_status.dart
```

### æ­¥éª¤ 2: éªŒè¯ä¸­è‹±æ–‡ç¿»è¯‘å®Œæ•´æ€§

```bash
dart scripts/i18n/verify_translations.dart
```

### æ­¥éª¤ 3: æ¸…ç†å¤šä½™çš„é”®

```bash
# æ¸…ç†å„è¯­è¨€å¤šå‡ºçš„é”®
dart scripts/i18n/clean_extra_keys.dart
```

### æ­¥éª¤ 4: æ£€æµ‹å¹¶æ¸…ç†æœªä½¿ç”¨çš„ keys

```bash
# æ£€æµ‹æœªä½¿ç”¨çš„ keys
dart scripts/i18n/check_unused_i18n.dart

# ç¡®è®¤åæ¸…ç†
dart scripts/i18n/clean_unused_i18n.dart
```

### æ­¥éª¤ 5: é‡æ–°ç”Ÿæˆä»£ç 

```bash
flutter gen-l10n
```

## ğŸ’¡ æœ€ä½³å®è·µ

1. **å®šæœŸæ¸…ç†**ï¼šæ¯æ¬¡å‘å¸ƒå‰è¿è¡Œä¸€æ¬¡æ¸…ç†å·¥å…·
2. **å…ˆæ£€æµ‹åæ¸…ç†**ï¼šä½¿ç”¨ `check_unused_i18n.dart` é¢„è§ˆåå†æ¸…ç†
3. **ä¿æŒåŒæ­¥**ï¼šæ·»åŠ æ–° key æ—¶åŒæ—¶æ›´æ–°ä¸­è‹±æ–‡
4. **ç‰ˆæœ¬æ§åˆ¶**ï¼šç¿»è¯‘æ–‡ä»¶çš„å˜æ›´è¦æäº¤åˆ° git
5. **äººå·¥å®¡æ ¸**ï¼šç¿»è¯‘åå»ºè®®è¯·æ¯è¯­ä½¿ç”¨è€…æ ¡å¯¹
